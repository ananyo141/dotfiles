" Plugins
packadd minpac

call minpac#init()

" aliases
command! PackUpdate call minpac#update()
command! PackClean  call minpac#clean()

" packages
call minpac#add('k-takata/minpac', {'type': 'opt'})
call minpac#add('tpope/vim-surround')
call minpac#add('tpope/vim-commentary')
call minpac#add('tpope/vim-fugitive')
call minpac#add('christoomey/vim-tmux-navigator')
call minpac#add('sainnhe/everforest')
call minpac#add('mhinz/vim-startify')
call minpac#add('vim-airline/vim-airline')
call minpac#add('preservim/nerdtree')
call minpac#add('bling/vim-bufferline') 

" Plugin Configs
if has('termguicolors')
    set termguicolors
endif
let g:everforest_enable_italic = 1
let g:everforest_background = 'hard'
set background=dark
" let g:everforest_better_performance = 1

let NERDTreeShowHidden=1
" Toggle nerdtree with Ctrl+B
nnoremap <silent> <C-B> :NERDTreeToggle<CR>
" Exit Vim if NERDTree is the only window remaining in the only tab.
autocmd BufEnter * if tabpagenr('$') == 1 && winnr('$') == 1 && exists('b:NERDTree') && b:NERDTree.isTabTree() | quit | endif
" Close the tab if NERDTree is the only window remaining in it.
autocmd BufEnter * if winnr('$') == 1 && exists('b:NERDTree') && b:NERDTree.isTabTree() | quit | endif
 
let g:bufferline_echo = 0

" For alacritty
let &t_8f = "\<Esc>[38;2;%lu;%lu;%lum"
let &t_8b = "\<Esc>[48;2;%lu;%lu;%lum"

colorscheme everforest

" Few terminals can't show error highlighting in coc
highlight ErrorText cterm=underline

